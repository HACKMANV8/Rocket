{"ast":null,"code":"import { interval } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/api.service\";\nimport * as i2 from \"@angular/common\";\nfunction KpisComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtext(1, \"Loading KPIs...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction KpisComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"div\", 6)(2, \"div\", 7);\n    i0.ɵɵtext(3, \"\\uD83D\\uDEA8\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 8)(5, \"div\", 9);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 10);\n    i0.ɵɵtext(8, \"Total Incidents\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"div\", 11)(10, \"div\", 7);\n    i0.ɵɵtext(11, \"\\u26A0\\uFE0F\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 8)(13, \"div\", 9);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 10);\n    i0.ɵɵtext(16, \"Critical Alerts\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"div\", 12)(18, \"div\", 7);\n    i0.ɵɵtext(19, \"\\uD83D\\uDCC8\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 8)(21, \"div\", 9);\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"div\", 10);\n    i0.ɵɵtext(24, \"Avg Efficiency\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(25, \"div\", 13)(26, \"div\", 7);\n    i0.ɵɵtext(27, \"\\u26CF\\uFE0F\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"div\", 8)(29, \"div\", 9);\n    i0.ɵɵtext(30);\n    i0.ɵɵpipe(31, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"div\", 10);\n    i0.ɵɵtext(33, \"Monthly Production (tons)\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r0.kpis.total_incidents);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r0.kpis.critical_alerts);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r0.kpis.avg_efficiency, \"%\");\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(31, 4, ctx_r0.kpis.monthly_production, \"1.0-0\"));\n  }\n}\nexport let KpisComponent = /*#__PURE__*/(() => {\n  class KpisComponent {\n    constructor(apiService) {\n      this.apiService = apiService;\n      this.kpis = {\n        total_incidents: 0,\n        critical_alerts: 0,\n        avg_efficiency: 0,\n        monthly_production: 0\n      };\n      this.loading = true;\n    }\n    ngOnInit() {\n      this.loadKPIs();\n      // Refresh KPIs every 30 seconds\n      interval(30000).subscribe(() => {\n        this.loadKPIs();\n      });\n    }\n    loadKPIs() {\n      this.apiService.getKPIs().subscribe({\n        next: response => {\n          if (response.success) {\n            this.kpis = response.kpis;\n            this.loading = false;\n          }\n        },\n        error: error => {\n          console.error('Error loading KPIs:', error);\n          this.loading = false;\n        }\n      });\n    }\n    static {\n      this.ɵfac = function KpisComponent_Factory(t) {\n        return new (t || KpisComponent)(i0.ɵɵdirectiveInject(i1.ApiService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: KpisComponent,\n        selectors: [[\"app-kpis\"]],\n        inputs: {\n          kpiData: \"kpiData\"\n        },\n        decls: 5,\n        vars: 2,\n        consts: [[1, \"kpis-container\"], [1, \"kpis-title\"], [\"class\", \"loading\", 4, \"ngIf\"], [\"class\", \"kpis-grid\", 4, \"ngIf\"], [1, \"loading\"], [1, \"kpis-grid\"], [1, \"kpi-card\", \"incidents\"], [1, \"kpi-icon\"], [1, \"kpi-content\"], [1, \"kpi-value\"], [1, \"kpi-label\"], [1, \"kpi-card\", \"alerts\"], [1, \"kpi-card\", \"efficiency\"], [1, \"kpi-card\", \"production\"]],\n        template: function KpisComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n            i0.ɵɵtext(2, \"\\uD83D\\uDCCA Key Performance Indicators\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(3, KpisComponent_div_3_Template, 2, 0, \"div\", 2)(4, KpisComponent_div_4_Template, 34, 7, \"div\", 3);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", ctx.loading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n          }\n        },\n        dependencies: [i2.NgIf, i2.DecimalPipe],\n        styles: [\".kpis-container[_ngcontent-%COMP%] {\\n  margin-bottom: 2rem;\\n}\\n\\n.kpis-title[_ngcontent-%COMP%] {\\n  font-size: 1.8rem;\\n  margin-bottom: 1.5rem;\\n  color: #10b981;\\n}\\n\\n.loading[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: 2rem;\\n  color: #94a3b8;\\n}\\n\\n.kpis-grid[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\\n  gap: 1.5rem;\\n}\\n\\n.kpi-card[_ngcontent-%COMP%] {\\n  background: rgba(255, 255, 255, 0.05);\\n  backdrop-filter: blur(10px);\\n  border: 2px solid rgba(16, 185, 129, 0.3);\\n  border-radius: 16px;\\n  padding: 1.5rem;\\n  display: flex;\\n  align-items: center;\\n  gap: 1.5rem;\\n  transition: all 0.3s ease;\\n  animation: _ngcontent-%COMP%_fadeInUp 0.5s ease;\\n}\\n\\n@keyframes _ngcontent-%COMP%_fadeInUp {\\n  from {\\n    opacity: 0;\\n    transform: translateY(20px);\\n  }\\n  to {\\n    opacity: 1;\\n    transform: translateY(0);\\n  }\\n}\\n\\n.kpi-card[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-5px);\\n  box-shadow: 0 10px 30px rgba(16, 185, 129, 0.3);\\n}\\n\\n.kpi-card.incidents[_ngcontent-%COMP%] {\\n  border-color: rgba(239, 68, 68, 0.5);\\n}\\n\\n.kpi-card.alerts[_ngcontent-%COMP%] {\\n  border-color: rgba(251, 191, 36, 0.5);\\n}\\n\\n.kpi-card.efficiency[_ngcontent-%COMP%] {\\n  border-color: rgba(59, 130, 246, 0.5);\\n}\\n\\n.kpi-card.production[_ngcontent-%COMP%] {\\n  border-color: rgba(16, 185, 129, 0.5);\\n}\\n\\n.kpi-icon[_ngcontent-%COMP%] {\\n  font-size: 3rem;\\n  min-width: 60px;\\n  text-align: center;\\n}\\n\\n.kpi-content[_ngcontent-%COMP%] {\\n  flex: 1;\\n}\\n\\n.kpi-value[_ngcontent-%COMP%] {\\n  font-size: 2.5rem;\\n  font-weight: bold;\\n  line-height: 1;\\n  margin-bottom: 0.5rem;\\n  background: linear-gradient(135deg, #10b981, #3b82f6);\\n  -webkit-background-clip: text;\\n  -webkit-text-fill-color: transparent;\\n}\\n\\n.kpi-label[_ngcontent-%COMP%] {\\n  font-size: 0.95rem;\\n  color: #94a3b8;\\n  font-weight: 500;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImtwaXMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGlCQUFpQjtFQUNqQixxQkFBcUI7RUFDckIsY0FBYztBQUNoQjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixhQUFhO0VBQ2IsY0FBYztBQUNoQjs7QUFFQTtFQUNFLGFBQWE7RUFDYiwyREFBMkQ7RUFDM0QsV0FBVztBQUNiOztBQUVBO0VBQ0UscUNBQXFDO0VBQ3JDLDJCQUEyQjtFQUMzQix5Q0FBeUM7RUFDekMsbUJBQW1CO0VBQ25CLGVBQWU7RUFDZixhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLFdBQVc7RUFDWCx5QkFBeUI7RUFDekIsNkJBQTZCO0FBQy9COztBQUVBO0VBQ0U7SUFDRSxVQUFVO0lBQ1YsMkJBQTJCO0VBQzdCO0VBQ0E7SUFDRSxVQUFVO0lBQ1Ysd0JBQXdCO0VBQzFCO0FBQ0Y7O0FBRUE7RUFDRSwyQkFBMkI7RUFDM0IsK0NBQStDO0FBQ2pEOztBQUVBO0VBQ0Usb0NBQW9DO0FBQ3RDOztBQUVBO0VBQ0UscUNBQXFDO0FBQ3ZDOztBQUVBO0VBQ0UscUNBQXFDO0FBQ3ZDOztBQUVBO0VBQ0UscUNBQXFDO0FBQ3ZDOztBQUVBO0VBQ0UsZUFBZTtFQUNmLGVBQWU7RUFDZixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxPQUFPO0FBQ1Q7O0FBRUE7RUFDRSxpQkFBaUI7RUFDakIsaUJBQWlCO0VBQ2pCLGNBQWM7RUFDZCxxQkFBcUI7RUFDckIscURBQXFEO0VBQ3JELDZCQUE2QjtFQUM3QixvQ0FBb0M7QUFDdEM7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsY0FBYztFQUNkLGdCQUFnQjtBQUNsQiIsImZpbGUiOiJrcGlzLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIua3Bpcy1jb250YWluZXIge1xyXG4gIG1hcmdpbi1ib3R0b206IDJyZW07XHJcbn1cclxuXHJcbi5rcGlzLXRpdGxlIHtcclxuICBmb250LXNpemU6IDEuOHJlbTtcclxuICBtYXJnaW4tYm90dG9tOiAxLjVyZW07XHJcbiAgY29sb3I6ICMxMGI5ODE7XHJcbn1cclxuXHJcbi5sb2FkaW5nIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgcGFkZGluZzogMnJlbTtcclxuICBjb2xvcjogIzk0YTNiODtcclxufVxyXG5cclxuLmtwaXMtZ3JpZCB7XHJcbiAgZGlzcGxheTogZ3JpZDtcclxuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDI1MHB4LCAxZnIpKTtcclxuICBnYXA6IDEuNXJlbTtcclxufVxyXG5cclxuLmtwaS1jYXJkIHtcclxuICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMDUpO1xyXG4gIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMHB4KTtcclxuICBib3JkZXI6IDJweCBzb2xpZCByZ2JhKDE2LCAxODUsIDEyOSwgMC4zKTtcclxuICBib3JkZXItcmFkaXVzOiAxNnB4O1xyXG4gIHBhZGRpbmc6IDEuNXJlbTtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgZ2FwOiAxLjVyZW07XHJcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcclxuICBhbmltYXRpb246IGZhZGVJblVwIDAuNXMgZWFzZTtcclxufVxyXG5cclxuQGtleWZyYW1lcyBmYWRlSW5VcCB7XHJcbiAgZnJvbSB7XHJcbiAgICBvcGFjaXR5OiAwO1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDIwcHgpO1xyXG4gIH1cclxuICB0byB7XHJcbiAgICBvcGFjaXR5OiAxO1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApO1xyXG4gIH1cclxufVxyXG5cclxuLmtwaS1jYXJkOmhvdmVyIHtcclxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTVweCk7XHJcbiAgYm94LXNoYWRvdzogMCAxMHB4IDMwcHggcmdiYSgxNiwgMTg1LCAxMjksIDAuMyk7XHJcbn1cclxuXHJcbi5rcGktY2FyZC5pbmNpZGVudHMge1xyXG4gIGJvcmRlci1jb2xvcjogcmdiYSgyMzksIDY4LCA2OCwgMC41KTtcclxufVxyXG5cclxuLmtwaS1jYXJkLmFsZXJ0cyB7XHJcbiAgYm9yZGVyLWNvbG9yOiByZ2JhKDI1MSwgMTkxLCAzNiwgMC41KTtcclxufVxyXG5cclxuLmtwaS1jYXJkLmVmZmljaWVuY3kge1xyXG4gIGJvcmRlci1jb2xvcjogcmdiYSg1OSwgMTMwLCAyNDYsIDAuNSk7XHJcbn1cclxuXHJcbi5rcGktY2FyZC5wcm9kdWN0aW9uIHtcclxuICBib3JkZXItY29sb3I6IHJnYmEoMTYsIDE4NSwgMTI5LCAwLjUpO1xyXG59XHJcblxyXG4ua3BpLWljb24ge1xyXG4gIGZvbnQtc2l6ZTogM3JlbTtcclxuICBtaW4td2lkdGg6IDYwcHg7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4ua3BpLWNvbnRlbnQge1xyXG4gIGZsZXg6IDE7XHJcbn1cclxuXHJcbi5rcGktdmFsdWUge1xyXG4gIGZvbnQtc2l6ZTogMi41cmVtO1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIGxpbmUtaGVpZ2h0OiAxO1xyXG4gIG1hcmdpbi1ib3R0b206IDAuNXJlbTtcclxuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjMTBiOTgxLCAjM2I4MmY2KTtcclxuICAtd2Via2l0LWJhY2tncm91bmQtY2xpcDogdGV4dDtcclxuICAtd2Via2l0LXRleHQtZmlsbC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbn1cclxuXHJcbi5rcGktbGFiZWwge1xyXG4gIGZvbnQtc2l6ZTogMC45NXJlbTtcclxuICBjb2xvcjogIzk0YTNiODtcclxuICBmb250LXdlaWdodDogNTAwO1xyXG59Il19 */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9rcGlzL2twaXMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGlCQUFpQjtFQUNqQixxQkFBcUI7RUFDckIsY0FBYztBQUNoQjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixhQUFhO0VBQ2IsY0FBYztBQUNoQjs7QUFFQTtFQUNFLGFBQWE7RUFDYiwyREFBMkQ7RUFDM0QsV0FBVztBQUNiOztBQUVBO0VBQ0UscUNBQXFDO0VBQ3JDLDJCQUEyQjtFQUMzQix5Q0FBeUM7RUFDekMsbUJBQW1CO0VBQ25CLGVBQWU7RUFDZixhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLFdBQVc7RUFDWCx5QkFBeUI7RUFDekIsNkJBQTZCO0FBQy9COztBQUVBO0VBQ0U7SUFDRSxVQUFVO0lBQ1YsMkJBQTJCO0VBQzdCO0VBQ0E7SUFDRSxVQUFVO0lBQ1Ysd0JBQXdCO0VBQzFCO0FBQ0Y7O0FBRUE7RUFDRSwyQkFBMkI7RUFDM0IsK0NBQStDO0FBQ2pEOztBQUVBO0VBQ0Usb0NBQW9DO0FBQ3RDOztBQUVBO0VBQ0UscUNBQXFDO0FBQ3ZDOztBQUVBO0VBQ0UscUNBQXFDO0FBQ3ZDOztBQUVBO0VBQ0UscUNBQXFDO0FBQ3ZDOztBQUVBO0VBQ0UsZUFBZTtFQUNmLGVBQWU7RUFDZixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxPQUFPO0FBQ1Q7O0FBRUE7RUFDRSxpQkFBaUI7RUFDakIsaUJBQWlCO0VBQ2pCLGNBQWM7RUFDZCxxQkFBcUI7RUFDckIscURBQXFEO0VBQ3JELDZCQUE2QjtFQUM3QixvQ0FBb0M7QUFDdEM7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsY0FBYztFQUNkLGdCQUFnQjtBQUNsQjtBQUNBLDQ5R0FBNDlHIiwic291cmNlc0NvbnRlbnQiOlsiLmtwaXMtY29udGFpbmVyIHtcclxuICBtYXJnaW4tYm90dG9tOiAycmVtO1xyXG59XHJcblxyXG4ua3Bpcy10aXRsZSB7XHJcbiAgZm9udC1zaXplOiAxLjhyZW07XHJcbiAgbWFyZ2luLWJvdHRvbTogMS41cmVtO1xyXG4gIGNvbG9yOiAjMTBiOTgxO1xyXG59XHJcblxyXG4ubG9hZGluZyB7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIHBhZGRpbmc6IDJyZW07XHJcbiAgY29sb3I6ICM5NGEzYjg7XHJcbn1cclxuXHJcbi5rcGlzLWdyaWQge1xyXG4gIGRpc3BsYXk6IGdyaWQ7XHJcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maXQsIG1pbm1heCgyNTBweCwgMWZyKSk7XHJcbiAgZ2FwOiAxLjVyZW07XHJcbn1cclxuXHJcbi5rcGktY2FyZCB7XHJcbiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjA1KTtcclxuICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTBweCk7XHJcbiAgYm9yZGVyOiAycHggc29saWQgcmdiYSgxNiwgMTg1LCAxMjksIDAuMyk7XHJcbiAgYm9yZGVyLXJhZGl1czogMTZweDtcclxuICBwYWRkaW5nOiAxLjVyZW07XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGdhcDogMS41cmVtO1xyXG4gIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XHJcbiAgYW5pbWF0aW9uOiBmYWRlSW5VcCAwLjVzIGVhc2U7XHJcbn1cclxuXHJcbkBrZXlmcmFtZXMgZmFkZUluVXAge1xyXG4gIGZyb20ge1xyXG4gICAgb3BhY2l0eTogMDtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgyMHB4KTtcclxuICB9XHJcbiAgdG8ge1xyXG4gICAgb3BhY2l0eTogMTtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcclxuICB9XHJcbn1cclxuXHJcbi5rcGktY2FyZDpob3ZlciB7XHJcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01cHgpO1xyXG4gIGJveC1zaGFkb3c6IDAgMTBweCAzMHB4IHJnYmEoMTYsIDE4NSwgMTI5LCAwLjMpO1xyXG59XHJcblxyXG4ua3BpLWNhcmQuaW5jaWRlbnRzIHtcclxuICBib3JkZXItY29sb3I6IHJnYmEoMjM5LCA2OCwgNjgsIDAuNSk7XHJcbn1cclxuXHJcbi5rcGktY2FyZC5hbGVydHMge1xyXG4gIGJvcmRlci1jb2xvcjogcmdiYSgyNTEsIDE5MSwgMzYsIDAuNSk7XHJcbn1cclxuXHJcbi5rcGktY2FyZC5lZmZpY2llbmN5IHtcclxuICBib3JkZXItY29sb3I6IHJnYmEoNTksIDEzMCwgMjQ2LCAwLjUpO1xyXG59XHJcblxyXG4ua3BpLWNhcmQucHJvZHVjdGlvbiB7XHJcbiAgYm9yZGVyLWNvbG9yOiByZ2JhKDE2LCAxODUsIDEyOSwgMC41KTtcclxufVxyXG5cclxuLmtwaS1pY29uIHtcclxuICBmb250LXNpemU6IDNyZW07XHJcbiAgbWluLXdpZHRoOiA2MHB4O1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLmtwaS1jb250ZW50IHtcclxuICBmbGV4OiAxO1xyXG59XHJcblxyXG4ua3BpLXZhbHVlIHtcclxuICBmb250LXNpemU6IDIuNXJlbTtcclxuICBmb250LXdlaWdodDogYm9sZDtcclxuICBsaW5lLWhlaWdodDogMTtcclxuICBtYXJnaW4tYm90dG9tOiAwLjVyZW07XHJcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzEwYjk4MSwgIzNiODJmNik7XHJcbiAgLXdlYmtpdC1iYWNrZ3JvdW5kLWNsaXA6IHRleHQ7XHJcbiAgLXdlYmtpdC10ZXh0LWZpbGwtY29sb3I6IHRyYW5zcGFyZW50O1xyXG59XHJcblxyXG4ua3BpLWxhYmVsIHtcclxuICBmb250LXNpemU6IDAuOTVyZW07XHJcbiAgY29sb3I6ICM5NGEzYjg7XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n      });\n    }\n  }\n  return KpisComponent;\n})();","map":{"version":3,"names":["interval","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","kpis","total_incidents","critical_alerts","ɵɵtextInterpolate1","avg_efficiency","ɵɵpipeBind2","monthly_production","KpisComponent","constructor","apiService","loading","ngOnInit","loadKPIs","subscribe","getKPIs","next","response","success","error","console","ɵɵdirectiveInject","i1","ApiService","selectors","inputs","kpiData","decls","vars","consts","template","KpisComponent_Template","rf","ctx","ɵɵtemplate","KpisComponent_div_3_Template","KpisComponent_div_4_Template","ɵɵproperty"],"sources":["C:\\Users\\pavit\\OneDrive\\Desktop\\mit\\thanucheck\\bhooom\\frontend\\src\\app\\components\\kpis\\kpis.component.ts","C:\\Users\\pavit\\OneDrive\\Desktop\\mit\\thanucheck\\bhooom\\frontend\\src\\app\\components\\kpis\\kpis.component.html"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\r\nimport { ApiService } from '../../services/api.service';\r\nimport { interval } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-kpis',\r\n  templateUrl: './kpis.component.html',\r\n  styleUrls: ['./kpis.component.css']\r\n})\r\nexport class KpisComponent implements OnInit {\r\n  @Input() kpiData: any; // added for template binding\r\n  kpis: any = {\r\n    total_incidents: 0,\r\n    critical_alerts: 0,\r\n    avg_efficiency: 0,\r\n    monthly_production: 0\r\n  };\r\n\r\n  loading: boolean = true;\r\n\r\n  constructor(private apiService: ApiService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loadKPIs();\r\n\r\n    // Refresh KPIs every 30 seconds\r\n    interval(30000).subscribe(() => {\r\n      this.loadKPIs();\r\n    });\r\n  }\r\n\r\n  loadKPIs(): void {\r\n    this.apiService.getKPIs().subscribe({\r\n      next: (response) => {\r\n        if (response.success) {\r\n          this.kpis = response.kpis;\r\n          this.loading = false;\r\n        }\r\n      },\r\n      error: (error) => {\r\n        console.error('Error loading KPIs:', error);\r\n        this.loading = false;\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"kpis-container\">\r\n  <h2 class=\"kpis-title\">📊 Key Performance Indicators</h2>\r\n  \r\n  <div *ngIf=\"loading\" class=\"loading\">Loading KPIs...</div>\r\n  \r\n  <div *ngIf=\"!loading\" class=\"kpis-grid\">\r\n    <!-- Total Incidents -->\r\n    <div class=\"kpi-card incidents\">\r\n      <div class=\"kpi-icon\">🚨</div>\r\n      <div class=\"kpi-content\">\r\n        <div class=\"kpi-value\">{{ kpis.total_incidents }}</div>\r\n        <div class=\"kpi-label\">Total Incidents</div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Critical Alerts -->\r\n    <div class=\"kpi-card alerts\">\r\n      <div class=\"kpi-icon\">⚠️</div>\r\n      <div class=\"kpi-content\">\r\n        <div class=\"kpi-value\">{{ kpis.critical_alerts }}</div>\r\n        <div class=\"kpi-label\">Critical Alerts</div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Average Efficiency -->\r\n    <div class=\"kpi-card efficiency\">\r\n      <div class=\"kpi-icon\">📈</div>\r\n      <div class=\"kpi-content\">\r\n        <div class=\"kpi-value\">{{ kpis.avg_efficiency }}%</div>\r\n        <div class=\"kpi-label\">Avg Efficiency</div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Monthly Production -->\r\n    <div class=\"kpi-card production\">\r\n      <div class=\"kpi-icon\">⛏️</div>\r\n      <div class=\"kpi-content\">\r\n        <div class=\"kpi-value\">{{ kpis.monthly_production | number:'1.0-0' }}</div>\r\n        <div class=\"kpi-label\">Monthly Production (tons)</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}